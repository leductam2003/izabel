<!DOCTYPE html>
<html lang="EN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Izabel on TRON</title>

    <link href="https://bootswatch.com/5/sketchy/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        #followBtn:hover {
            background-color: #fff;
            border-color: hsl(0, 0%, 1%);
            color: rgb(0, 0, 0)
        }

        #postComment:hover {
            background-color: #fff;
            border-color: hsl(0, 0%, 1%);
            color: rgb(0, 0, 0)
        }

        a:hover {
            text-decoration: underline;
            color: #007bff;
        }

        .comment-container {
            max-height: 500px;
            overflow-y: auto;
            padding: 10px;
            border: 1px solid #ddd;
            background-color: #f9f9f9;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg border-bottom border-bottom-dark sticky-top" style="background-color: #5c0e0e; background-image:url('https://cryptologos.cc/logos/tron-trx-logo.png?v=033'); background-size: contain; background-repeat: no-repeat; background-position: center;" data-bs-theme="dark">
        <div class="container">
            <a class="navbar-brand fw-light" href="/"><span class="fas fa-dog me-1"> </span>Izabel</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Profile</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container py-4">
        <div class="row">
            <div class="col-3">
                <div class="card overflow-hidden">
                    <div class="card-body pt-3">
                        <ul class="nav nav-link-secondary flex-column fw-bold gap-2">
                            <li class="nav-item">
                                <a class="nav-link text-dark" href="#">
                                    <span>Home</span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="https://x.com/izabeltron" target="_blank">
                                    <span>Twitter</span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="https://t.me/izabelontron" target="_blank">
                                    <span>Telegram</span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="" target="_blank">
                                    <span>SUNPUMP</span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="https://dexscreener.com/" target="_blank">
                                    <span>Dexscreener</span></a>
                            </li>
                        </ul>
                    </div>
                    <div class="card-footer text-center py-2">
                        <a class="btn btn-link btn-sm" href="#">View Profile </a>
                    </div>
                </div>
            </div>
            <div class="col-6">
                <div class="card">
                    <div class="px-3 pt-4 pb-2">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="d-flex align-items-center">
                                <img style="width:150px" class="me-3 avatar-sm rounded-circle" src="/assets/Izabel.jpg"
                                    alt="Izabel Avatar">
                                <div>
                                    <h3 class="card-title mb-0"><a href="#"> Izabel
                                        </a></h3>
                                    <span class="fs-6 text-muted">@izabeltron</span>
                                </div>
                            </div>
                        </div>
                        <div class="px-2 mt-4">
                            <h5 class="fs-5"> About: </h5>
                            <p class="fs-6 fw-light">
                                Just a little pup practicing her selfie game üì∏üêæ
                            </p>
                            <div class="d-flex justify-content-start">
                                <a href="#" class="fw-light nav-link fs-6 me-3"> <span class="fas fa-user me-1">
                                    </span> 345 Followers </a>
                                <a href="#" class="fw-light nav-link fs-6 me-3"> <span class="fas fa-dog me-1">
                                    </span> 6 </a>
                                <a href="#" class="fw-light nav-link fs-6"> <span class="fas fa-comment me-1">
                                    </span> 7 </a>
                            </div>
                            <div class="mt-3">
                                <button id="followBtn" class="btn btn-primary btn-sm">Follow</button>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="mt-3">
                    <div class="card">
                        <div class="px-3 pt-4 pb-2">
                            <div class="d-flex align-items-center justify-content-between">
                                <div class="d-flex align-items-center">
                                    <img style="width:50px" class="me-2 avatar-sm rounded-circle"
                                        src="/assets/Izabel.jpg" alt="Izabel Avatar">
                                    <div>
                                        <h5 class="card-title mb-0"><a href="#"> Izabel
                                            </a></h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <p class="fs-6 fw-light text-muted">
                                üöÄ Izabel Tokenomics üöÄ
                                We're thrilled to announce the launch of Izabel on SUNPUMP with:
                                A total supply of 1 billion tokens! üî•
                                100% of Liquidity Pool (LP) is burned
                                0% taxes‚Äîmaking Izabel a truly community-driven project. No fees, just pure growth!
                                Join us on this exciting journey and be a part of something big! üí•</p>
                            <div class="d-flex justify-content-between">
                                <div>
                                    <a href="#" class="fw-light nav-link fs-6"> <span class="fas fa-heart me-1">
                                        </span> 69 </a>
                                </div>
                                <div>
                                    <span class="fs-6 fw-light text-muted"> <span class="fas fa-clock"> </span>
                                    23 Aug 2024
                                </span>
                                </div>
                            </div>
                            <div>
                                <div class="mb-3">
                                    <textarea id="username" class="fs-6 form-control" rows="1"
                                        placeholder="username"></textarea>
                                    <textarea id="commentText" class="fs-6 form-control" rows="3"
                                        placeholder="comment"></textarea>
                                </div>
                                <div>
                                    <button id="postComment" class="btn btn-primary btn-sm"> Post Comment </button>
                                </div>

                                <hr>
                                <div id="commentSection" class="comment-container">
                                    <div class="d-flex align-items-start">
                                        <img style="width:35px" class="me-2 avatar-sm rounded-circle"
                                            src="/assets/Izabel.jpg" alt="Izabel Avatar">
                                        <div class="w-100">
                                            <div class="d-flex justify-content-between">
                                                <h6 class="">Izabel
                                                </h6>
                                            </div>
                                            <p class="fs-6 mt-3 fw-light">
                                                CONTRACT ADDRESS: TKV4hqaMjKKukHxhJPPYZon4mDFnjMHxXD
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <div class="card">
                    <div class="card-header pb-0 border-0">
                        <h5 class="">Who to follow</h5>
                    </div>
                    <div class="card-body">
                        <div class="hstack gap-2 mb-3">
                            <div class="avatar">
                                <a href="#!"><img class="avatar-img rounded-circle"
                                        src="https://pbs.twimg.com/profile_images/1754409055798587392/hmyr9DFd_400x400.jpg"
                                        style="width:50px" alt=""></a>
                            </div>
                            <div class="overflow-hidden">
                                <a class="h6 mb-0" href="https://x.com/sunpumpmeme" target="_blank">sunpumpmeme</a>
                                <p class="mb-0 small text-truncate">@sunpumpmeme</p>
                            </div>
                            <a class="btn btn-primary btn-sm ms-auto" href="https://x.com/sunpumpmeme"
                                target="_blank">Follow</a>
                        </div>
                        <div class="hstack gap-2 mb-3">
                            <div class="avatar">
                                <a href="#!"><img class="avatar-img rounded-circle"
                                        src="https://pbs.twimg.com/profile_images/1826637284885585920/8EZWhpHS_400x400.jpg"
                                        style="width:50px" alt=""></a>
                            </div>
                            <div class="overflow-hidden">
                                <a class="h6 mb-0" href="https://x.com/justinsuntron" target="_blank">H.E. Justin Sun
                                    Â≠ôÂÆáÊô®(hiring)</a>
                                <p class="mb-0 small text-truncate">@justinsuntron</p>
                            </div>
                            <a class="btn btn-primary btn-sm ms-auto" href="https://x.com/justinsuntron"
                                target="_blank">Follow</a>
                        </div>
                        <div class="hstack gap-2 mb-3">
                            <div class="avatar">
                                <a href="#!"><img class="avatar-img rounded-circle"
                                        src="https://pbs.twimg.com/profile_images/1761904730668675072/v98T7vRL_400x400.jpg"
                                        alt="" style="width: 50px;"></a>
                            </div>
                            <div class="overflow-hidden">
                                <a class="h6 mb-0" href="#!">TRON DAO</a>
                                <p class="mb-0 small text-truncate">@trondao</p>
                            </div>
                            <a class="btn btn-primary btn-sm ms-auto" href="https://x.com/trondao"
                                target="_blank">Follow</a>
                        </div>
                    </div>
                    <div class="card-footer text-center py-2">
                        <a class="btn btn-link btn-sm" href="#">View Profile </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const followBtn = document.getElementById('followBtn');
        let isFollowing = false;

        followBtn.addEventListener('click', () => {
            isFollowing = !isFollowing;
            followBtn.textContent = isFollowing ? 'Following' : 'Follow';
            followBtn.classList.toggle('btn-primary', !isFollowing);
            followBtn.classList.toggle('btn-success', isFollowing);
        });
        document.addEventListener('DOMContentLoaded', function () {
            const commentSection = document.getElementById('commentSection');
            const chatSection = document.getElementById('chatSection');
            const commentTextBox = document.getElementById('commentText');
            const username = document.getElementById('username');
            const postCommentButton = document.getElementById('postComment');

            fetch('api/messages')
                .then(response => response.json())
                .then(messages => {
                    messages.forEach(message => {
                        const timestamp = new Date(message.timestamp);
                        const chatElement = createElement(message.user, message.message, timestamp, 'comment');
                        commentSection.appendChild(chatElement);
                    });
                });

            postCommentButton.addEventListener('click', function () {
                const commentText = commentTextBox.value.trim();
                if (commentText) {
                    // Create new comment element
                    const timestamp = new Date(); // Set timestamp to the current time
                    const newComment = createElement(username.value.trim(), commentText, timestamp, 'comment');
                    commentSection.appendChild(newComment);
                    commentTextBox.value = '';

                    fetch('api/messages', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            user: username.value.trim(),
                            message: commentText,
                        }),
                    });
                }
            });
            function createElement(user, text, timestamp, type) {
                const newDiv = document.createElement('div');
                newDiv.className = type === 'chat' ? 'chat-message' : 'd-flex align-items-start mb-3';

                if (type === 'chat') {
                    const userNameSpan = document.createElement('span');
                    userNameSpan.className = 'user-name';
                    userNameSpan.textContent = `${user}: `;

                    const messageTextP = document.createElement('p');
                    messageTextP.textContent = text;

                    const timeStampSpan = document.createElement('span');
                    timeStampSpan.className = 'timestamp';
                    timeStampSpan.textContent = ` ${timeAgo(timestamp)}`;

                    messageTextP.appendChild(timeStampSpan);

                    newDiv.appendChild(userNameSpan);
                    newDiv.appendChild(messageTextP);
                } else {
                    const img = document.createElement('img');
                    img.style.width = '35px';
                    img.className = 'me-2 avatar-sm rounded-circle';
                    img.src = '/assets/Luigi.jpg';

                    const contentDiv = document.createElement('div');
                    contentDiv.className = 'w-100';

                    const headerDiv = document.createElement('div');
                    headerDiv.className = 'd-flex justify-content-between';

                    const commenterName = document.createElement('h6');
                    commenterName.innerText = user;

                    const timeStamp = document.createElement('small');
                    timeStamp.className = 'fs-6 fw-light text-muted';
                    timeStamp.innerText = timestamp ? timeAgo(timestamp) : 'Just now';

                    const body = document.createElement('p');
                    body.className = 'fs-6 mt-3 fw-light';
                    body.innerText = text;

                    headerDiv.appendChild(commenterName);
                    headerDiv.appendChild(timeStamp);

                    contentDiv.appendChild(headerDiv);
                    contentDiv.appendChild(body);

                    newDiv.appendChild(img);
                    newDiv.appendChild(contentDiv);
                }

                return newDiv;
            }
            function timeAgo(timestamp) {
                const now = new Date();
                const diffInSeconds = Math.floor((now - timestamp) / 1000);

                if (diffInSeconds < 0) {
                    return 'in the future';
                }

                const intervals = [
                    { label: 'second', value: 60 },
                    { label: 'minute', value: 60 },
                    { label: 'hour', value: 24 },
                    { label: 'day', value: 30 },
                    { label: 'month', value: 12 },
                    { label: 'year', value: Infinity }
                ];

                let intervalIndex = 0;
                let intervalValue = intervals[intervalIndex].value;
                let count = diffInSeconds;

                while (count >= intervalValue && intervalIndex < intervals.length - 1) {
                    count /= intervalValue;
                    intervalIndex++;
                    intervalValue = intervals[intervalIndex].value;
                }

                count = Math.floor(count);
                const label = intervals[intervalIndex].label;

                return `${count} ${label}${count > 1 ? 's' : ''} ago`;
            }

        });


    </script>
</body>

</html>